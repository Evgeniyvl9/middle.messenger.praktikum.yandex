# Основные задания

- Создайте в Git ветку sprint_3. Не меняйте её название, в ней вы будете выполнять задания этого
  спринта.

## Добавьте роутинг в проект:

- Реализуйте роутер для регистрации роутов согласно сигнатуре в уроках.. У всех страниц должен быть
  собственный роут:

  - / — страница входа,
  - /sign-up — страница регистрации,
  - /settings — настройки профиля пользователя,
  - /messenger — чат.

- добавить в роутер хотя бы самую простую проверку авторизации пользователя.

  - Нужно, чтобы он перенаправлял неавторизованного пользователя на страницу логина.

- В DOM может быть активна только одна страница (при переходе на новую страницу не забудьте
  проверить, что старая была удалена из него).

- При обновлении страницы с определённым URL должна отображаться та же самая страница. То есть если
  пользователь зашел, например, на страницу регистрации и обновил её, она загрузится снова.

- Должны работать переходы по страницам через нажатие на кнопки в интерфейсе приложения. Если,
  например, на странице с настройками пользователя есть кнопка «Вернуться», по нажатию на неё должна
  загрузиться страница с чатами.

- Должны работать переходы «Назад» и «Вперёд», как через интерфейс браузера, так и через роутер.

- Внедрите HTTP API чатов, авторизации и пользователей. Описание API найдёте по ссылке.

  - После регистрации пользователь должен попадать сразу на страницу чата. Также в уроках этого
    спринта описаны «ручки» и как делать к ним запросы. Нужно добавить:

- авторизацию в полном объеме:

  - регистрация,
  - авторизация,
  - выход из системы;

- работу с информацией пользователя

  - изменять данные пользователя,
  - изменять аватар,
  - изменять пароль;

- работу с чатами

  - список чатов пользователя,
  - создать новый чат,
  - добавить пользователя в чат,
  - удалить пользователя из чата.

- Подключите WebSocket для работы с real-time сообщениями.

- Обновите README.md, а именно информацию о функциональности и использованных инструментах.

- Проверьте, что pull request из прошлого спринта «смёрджен» после того, как его принял ревьюер.
  Если да, после выполнения всех заданий этого спринта откройте pull request из ветки sprint_3 в
  ветку main. Назовите его "Sprint 3". В PR должны входить только те изменения, которые были сделаны
  в рамках конкретного спринта. Когда будете готовы к сдаче проектной работы, отправьте ссылку на
  пул-реквест, открытый из ветки sprint_3, через форму в интерфейсе Практикума. `<----- TODO`

## но есть некоторые недочеты:

- `done` Когда меняю аватар, то новый не отображается в профиле. Приходится перезагружать страницу, чтобы
  увидеть изменения ;
- `done` npx stylelint \"\*_/_.scss\" не нужно указывать в dev. Так не работает тут
- `done` Скрин https://disk.yandex.ru/i/vfc6B_jD6EaIzA В моих чатах есть картинка чата, но она не
  отображается сейчас у Вас. Вы отображаете там мой аватар. Нужно правильно подключать картинки
- `done`В scripts нужно создать отдельные скрипты для запуска ESLint и Stylelint
- `done` Скрин https://disk.yandex.ru/i/Cr9apmidy1Z3kQ Я могу добавить пустое сообщение в чат, а валидация
  не должна мне этого давать
- `done` Когда я создаю новый чат и начинаю там что-то отправлять, то пустые сообщения отображаются
  https://disk.yandex.ru/i/k8HFfCixKENMJQ . Но после перезагрузки страницы все ок с этим
- `done` JSON.parse может выкинуть исключение, если данные невалидные. Стоит добавить блок try/catch для
  отлова возможной ошибки
- `done` В методе get нужно обязательно обрабатывать возможные query-параметры с помощью функции
  queryStringify. Ее давали в теории

## Можно лучше

- Попробуйте избавиться от типов any в коде. Хотя бы часть из них можно заменить на unknown
- Роутинг должен работать без перезагрузки страницы, как в SPA-приложениях. В этом суть его создания
- Если типизация повторяется в каждом методе (функции), то нужно типизировать сам метод (функцию), а
  не дублировать типизацию аргументов. Код станет чище
